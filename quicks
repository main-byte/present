function quickSort(arr, low, high):
    if low < high:
        pivotIndex = partition(arr, low, high)
        quickSort(arr, low, pivotIndex - 1)
        quickSort(arr, pivotIndex + 1, high)

function partition(arr, low, high):
    mid = (low + high) / 2
    pivot = arr[mid]

    i = low
    j = high

    while i <= j:
        while arr[i] < pivot:
            i++
        while arr[j] > pivot:
            j--
        if i <= j:
            swap(arr[i], arr[j])
            i++
            j--

    return i   // new pivot position
